# Stack vs Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ Expo Router

## –û–±–∑–æ—Ä

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É Stack –∏ Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. –ö–∞–∂–¥—ã–π —Ç–∏–ø —Å–ª—É–∂–∏—Ç —Ä–∞–∑–Ω—ã–º —Ü–µ–ª—è–º –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## 1. Stack –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –ü—Ä–∏–Ω—Ü–∏–ø: LIFO (Last In, First Out)

Stack –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å—Ç–æ–ø–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ ‚Äî —Å–∞–º–∞—è –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É, –∞ —É–¥–∞–ª–µ–Ω–∏–µ –µ—ë –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ–¥ –Ω–µ–π.

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

```
üì± –õ–∏–Ω–µ–π–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è   - –û–¥–∏–Ω —ç–∫—Ä–∞–Ω –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–æ–≥–æ
‚¨ÖÔ∏è  –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥"      - –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–∫—Ä–∞–Ω
üìö –ò—Å—Ç–æ—Ä–∏—è              - Stack –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø—É—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
üéØ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–æ–∫—É—Å   - –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω
üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º - –ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚Üì
–≠–∫—Ä–∞–Ω A (–±–∞–∑–æ–≤—ã–π)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–∏–≥–∏—Ä—É–µ—Ç –≤–ø–µ—Ä–µ–¥
    ‚Üì
–≠–∫—Ä–∞–Ω A
  –≠–∫—Ä–∞–Ω B (—Å–≤–µ—Ä—Ö—É)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–∏–≥–∏—Ä—É–µ—Ç –≤–ø–µ—Ä–µ–¥
    ‚Üì
–≠–∫—Ä–∞–Ω A
  –≠–∫—Ä–∞–Ω B
    –≠–∫—Ä–∞–Ω C (—Å–≤–µ—Ä—Ö—É - –≤–∏–¥–∏–º—ã–π)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞–∑–∞–¥
    ‚Üì
–≠–∫—Ä–∞–Ω A
  –≠–∫—Ä–∞–Ω B (–≤–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞–∑–∞–¥
    ‚Üì
–≠–∫—Ä–∞–Ω A (–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// app/(main)/_layout.tsx - Main Stack –Ω–∞–≤–∏–≥–∞—Ü–∏—è
import { Stack } from "expo-router";

export default function MainLayout() {
  return (
    <Stack
      screenOptions={{
        headerShown: false,
        animationEnabled: true
      }}
    >
      {/* –≠–∫—Ä–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∫–ª–∞–¥–æ–∫ */}
      <Stack.Screen name="(tabs)" />

      {/* –ú–æ–¥–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (presentation: "modal") */}
      <Stack.Screen
        name="send-message"
        options={{
          presentation: "modal",
          animationEnabled: true
        }}
      />

      {/* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */}
      <Stack.Screen
        name="lock"
        options={{
          presentation: "fullScreenModal"
        }}
      />
    </Stack>
  );
}
```

### –û–ø—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

| –û–ø—Ü–∏—è                | –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | –ê–Ω–∏–º–∞—Ü–∏—è     |
| -------------------- | ---------------------- | ------------ |
| **card**             | –û–±—ã—á–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —ç–∫—Ä–∞–Ω–∞ | –°–ª–∞–π–¥ —Å–ø—Ä–∞–≤–∞ |
| **modal**            | –ú–æ–¥–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥       | –°–ª–∞–π–¥ —Å–Ω–∏–∑—É  |
| **fullScreenModal**  | –ü–æ–ª–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π         | Fade/—Å–ª–∞–π–¥   |
| **transparentModal** | –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π | Fade         |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Stack –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã** - –°–ø–∏—Å–æ–∫ ‚Üí –î–µ—Ç–∞–ª–∏ (–°–æ–æ–±—â–µ–Ω–∏—è ‚Üí –î–µ—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è)  
‚úÖ **–§–æ—Ä–º—ã –∏ —à–∞–≥–∏** - –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (–õ–æ–≥–∏–Ω ‚Üí –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ü–∞–Ω–µ–ª—å)  
‚úÖ **–ú–æ–¥–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏** - –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)  
‚úÖ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã** - –û–≤–µ—Ä–ª–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–≠–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –æ–±—É—á–µ–Ω–∏–µ)  
‚úÖ **–í–ª–æ–∂–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –ì–ª—É–±–æ–∫–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞

```typescript
// –°—Ç–µ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–æ–∫)
<Stack>
  <Stack.Screen name="messages-list" />

  {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ –¥–µ—Ç–∞–ª—è–º: –≤–ø–µ—Ä–µ–¥ */}
  <Stack.Screen name="message-detail/[id]" />

  {/* –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∫ –º–æ–¥–∞–ª—å: –≤–ø–µ—Ä–µ–¥ */}
  <Stack.Screen
    name="compose-message"
    options={{ presentation: "modal" }}
  />

  {/* –í–µ—Ä–Ω—É—Ç—å—Å—è: –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π —ç–∫—Ä–∞–Ω */}
</Stack>
```

---

## 2. Tabs –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –ü—Ä–∏–Ω—Ü–∏–ø: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏.

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

```
üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤  - –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏
üëÄ –í—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã           - –í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –≤–∏–¥–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è   - –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–º–Ω–∏—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ
üè† –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è     - –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚ö° –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø         - –û–¥–∏–Ω —Ç–∞–ø –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º –æ—Å–Ω–æ–≤–Ω—ã–º —Ä–∞–∑–¥–µ–ª–∞–º
```

### –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    –í–∫–ª–∞–¥–∫–∞ 1  –í–∫–ª–∞–¥–∫–∞ 2  –í–∫–ª–∞–¥–∫–∞ 3  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ–ö–æ–Ω—Ç–µ–Ω—Ç‚îÇ  ‚îÇ      ‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ –í–∫–ª–∞–¥.‚îÇ  ‚îÇ–ü—É—Å—Ç–æ ‚îÇ  ‚îÇ –ü—É—Å—Ç–æ   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   1   ‚îÇ  ‚îÇ      ‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üè†–°–æ–æ–±—â–µ–Ω–∏—è üìã–£—Å–ª—É–≥–∏ üë§ –ü—Ä–æ—Ñ–∏–ª—å   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –í–∫–ª–∞–¥–∫–∞ 2
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    –í–∫–ª–∞–¥–∫–∞ 1  –í–∫–ª–∞–¥–∫–∞ 2  –í–∫–ª–∞–¥–∫–∞ 3  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ–ö–æ–Ω—Ç–µ–Ω—Ç‚îÇ  ‚îÇ–ö–æ–Ω—Ç–µ–Ω—Ç‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ –í–∫–ª–∞–¥.‚îÇ  ‚îÇ –í–∫–ª–∞–¥.2‚îÇ  ‚îÇ –ü—É—Å—Ç–æ   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ 1(—Å–æ—Ö—Ä)‚îÇ  ‚îÇ (—Å–≤–µ–∂–∏–π)‚îÇ  ‚îÇ         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üè†–°–æ–æ–±—â–µ–Ω–∏—è üìã–£—Å–ª—É–≥–∏ üë§ –ü—Ä–æ—Ñ–∏–ª—å   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–µ—Ä–Ω—É–ª—Å—è –Ω–∞ –í–∫–ª–∞–¥–∫–∞ 1
    ‚Üì
–ö–æ–Ω—Ç–µ–Ω—Ç –í–∫–ª–∞–¥–∫–∞ 1 –≤—Å—ë –µ—â—ë —Ç–∞–º (—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ)
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// app/(main)/(tabs)/_layout.tsx - –†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Kii Mobile
import { useCallback } from "react";
import { Platform, StyleSheet, TouchableOpacity, View } from "react-native";
import { Tabs, usePathname } from "expo-router";
import { useTranslation } from "react-i18next";
import { Entypo, FontAwesome6, Ionicons } from "@expo/vector-icons";

import { HomeIcon, KiiBlackIcon } from "@/assets/icons";
import { TabBar, Text } from "@/components/ui";
import { FilesStorageButton, DownloadButton } from "@/components/ui/Buttons";
import { MailTabBarIcon } from "@/components/ui/MailTabBarIcon";
import { Colors, RoutePaths } from "@/constants";
import { useAuthContext } from "@/contexts/auth";
import { useHasAccess } from "@/hooks";

const styles = StyleSheet.create({
  headerStyle: {
    height: Platform.select({ ios: 120 }),
    backgroundColor: Colors.light.secondary["beige-1"]
  }
});

const HeaderRightButton = () => {
  const pathname = usePathname();
  const isShowUploadButton = [
    "/resource-library",
    "/stronger-minds"
  ].some((path) => pathname.includes(path));

  return isShowUploadButton ? <DownloadButton /> : <FilesStorageButton />;
};

const HeaderLeftButton = () => {
  const { logout } = useAuthContext();
  const pathname = usePathname();
  const { t } = useTranslation();
  const isHomeScreen = pathname === RoutePaths.HomeScreen;

  const handlePressBack = useCallback(async () => {
    if (isHomeScreen) {
      await logout();
    }
  }, [logout, pathname]);

  if (isHomeScreen) {
    return (
      <TouchableOpacity onPress={handlePressBack}>
        <Entypo name="chevron-left" size={24} color="black" />
        <Text>{t("header.logout")}</Text>
      </TouchableOpacity>
    );
  }
  return null;
};

export default function TabsLayout() {
  const user = usePatientProfile();
  const { isUserHasAccessToLiveChat, isUserHasAccessToMessages } = useHasAccess();
  const params = useGlobalSearchParams<{ pillar: string }>();

  useCheckInactivity();

  // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–∫–∞ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
  if (!user.userId) {
    return (
      <>
        <View className="flex-1 justify-center">
          <ActivityIndicator size={"large"} />
        </View>
        <StatusBar style="dark" />
      </>
    );
  }

  return (
    <>
      <Tabs
        tabBar={TabBar}  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç tab bar
        backBehavior="history"
        screenOptions={() => ({  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º props
          swipeEnabled: true,
          headerTitle: (props) => (
            <View className="flex-1 justify-center">
              <KiiBlackIcon color={props.tintColor} />
            </View>
          ),
          headerStyle: styles.headerStyle,
          headerTitleStyle: styles.headerTitleStyle,
          headerTitleAlign: "center",
          headerLeft: HeaderLeftButton,
          headerRight: HeaderRightButton
        })}
      >
        {/* Tab 1: –ì–ª–∞–≤–Ω–∞—è/Pillars */}
        <Tabs.Screen
          name="(pillars)"
          options={{
            tabBarShowLabel: false,
            headerShadowVisible: Boolean(params.pillar),  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–µ–Ω—å
            tabBarIcon: ({ focused, color }) => {
              return focused ? (
                <FontAwesome6 name="house" size={28} color={color} />
              ) : (
                <HomeIcon color={color} />
              );
            }
          }}
        />

        {/* Tab 2: –°–æ–æ–±—â–µ–Ω–∏—è (—É—Å–ª–æ–≤–Ω–æ) */}
        <Tabs.Screen
          name="(messages)"
          redirect={!isUserHasAccessToMessages}  // –°–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
          options={{
            tabBarShowLabel: false,
            tabBarIcon: ({ focused, color }) => (
              <MailTabBarIcon iconColor={color} focused={focused} />
            )
          }}
        />

        {/* Tab 3: Live Chat (—É—Å–ª–æ–≤–Ω–æ) */}
        <Tabs.Screen
          name="(chat)"
          redirect={!isUserHasAccessToLiveChat}  // –°–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
          options={{
            tabBarShowLabel: false,
            tabBarIcon: ({ focused, color }) => (
              <Ionicons
                name={focused ? "chatbox-ellipses" : "chatbox-ellipses-outline"}
                size={28}
                color={color}
              />
            )
          }}
        />

        {/* Tab 4: –ü—Ä–æ—Ñ–∏–ª—å */}
        <Tabs.Screen
          name="patient"
          options={{
            tabBarShowLabel: false,
            tabBarIcon: ({ focused, color }) => (
              <Ionicons
                name={focused ? "person" : "person-outline"}
                size={28}
                color={color}
              />
            )
          }}
        />
      </Tabs>
      <StatusBar style="dark" />
    </>
  );
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –°–æ–æ–±—â–µ–Ω–∏—è, –£—Å–ª—É–≥–∏, –ü—Ä–æ—Ñ–∏–ª—å  
‚úÖ **–†–∞–≤–Ω–∞—è –≤–∞–∂–Ω–æ—Å—Ç—å** - –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–∞–∂–Ω—ã  
‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏  
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–º–Ω–∏—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
‚úÖ **–ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

### –ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞

```typescript
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Kii Health Mobile
<Tabs>
  {/* –í–∫–ª–∞–¥–∫–∞ 1: –°—Ç–µ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π */}
  <Tabs.Screen name="(messages-stack)">
    {/* –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–∏:
         - –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
         - –î–µ—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
         - –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–º–æ–¥–∞–ª—å)
    */}
  </Tabs.Screen>

  {/* –í–∫–ª–∞–¥–∫–∞ 2: –°—Ç–µ–∫ —É—Å–ª—É–≥/—Å—Ç–æ–ª–ø–æ–≤ */}
  <Tabs.Screen name="(services-stack)">
    {/* –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–∏:
         - –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥
         - –î–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥–∏
         - –§–∏–ª—å—Ç—Ä (–º–æ–¥–∞–ª—å)
    */}
  </Tabs.Screen>

  {/* –í–∫–ª–∞–¥–∫–∞ 3: –°—Ç–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è */}
  <Tabs.Screen name="(profile-stack)">
    {/* –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–∏:
         - –û–±–∑–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è
         - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
         - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
    */}
  </Tabs.Screen>
</Tabs>
```

---

## 3. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ò–µ—Ä–∞—Ä—Ö–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Root Stack                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                     ‚îÇ
‚îÇ  ‚îú‚îÄ (auth) Stack                                    ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ login                                        ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ register                                     ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ forgot-password                              ‚îÇ
‚îÇ  ‚îÇ                                                  ‚îÇ
‚îÇ  ‚îî‚îÄ (main) Stack                                    ‚îÇ
‚îÇ     ‚îÇ                                               ‚îÇ
‚îÇ     ‚îú‚îÄ (tabs) - –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫           ‚îÇ
‚îÇ     ‚îÇ  ‚îú‚îÄ messages (–≤–∫–ª–∞–¥–∫–∞ 1)                      ‚îÇ
‚îÇ     ‚îÇ  ‚îÇ   ‚îî‚îÄ Stack –≤–Ω—É—Ç—Ä–∏: —Å–ø–∏—Å–æ–∫ ‚Üí –¥–µ—Ç–∞–ª–∏        ‚îÇ
‚îÇ     ‚îÇ  ‚îú‚îÄ services (–≤–∫–ª–∞–¥–∫–∞ 2)                      ‚îÇ
‚îÇ     ‚îÇ  ‚îÇ   ‚îî‚îÄ Stack –≤–Ω—É—Ç—Ä–∏: —Å–ø–∏—Å–æ–∫ ‚Üí –¥–µ—Ç–∞–ª–∏        ‚îÇ
‚îÇ     ‚îÇ  ‚îî‚îÄ profile (–≤–∫–ª–∞–¥–∫–∞ 3)                       ‚îÇ
‚îÇ     ‚îÇ      ‚îî‚îÄ Stack –≤–Ω—É—Ç—Ä–∏: –æ–±–∑–æ—Ä ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ‚îÇ
‚îÇ     ‚îÇ                                               ‚îÇ
‚îÇ     ‚îú‚îÄ send-message (–º–æ–¥–∞–ª—å - Stack)                ‚îÇ
‚îÇ     ‚îÇ                                               ‚îÇ
‚îÇ     ‚îî‚îÄ lock (fullScreenModal - Stack)               ‚îÇ
‚îÇ                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```typescript
// app/_layout.tsx - Root Stack
<Stack>
  <Stack.Screen name="(auth)" />
  <Stack.Screen name="(main)" />
</Stack>

// app/(main)/_layout.tsx - Main Stack —Å Tabs
<Stack>
  <Stack.Screen name="(tabs)" />

  {/* –ú–æ–¥–∞–ª–∏ –ø–æ–≤–µ—Ä—Ö –≤–∫–ª–∞–¥–æ–∫ */}
  <Stack.Screen
    name="send-message"
    options={{ presentation: "modal" }}
  />
  <Stack.Screen
    name="lock"
    options={{ presentation: "fullScreenModal" }}
  />
</Stack>

// app/(main)/(tabs)/_layout.tsx - Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏—è
<Tabs>
  <Tabs.Screen name="messages" />
  <Tabs.Screen name="services" />
  <Tabs.Screen name="profile" />
</Tabs>

// app/(main)/(tabs)/messages/_layout.tsx - Stack –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏
<Stack>
  <Stack.Screen name="index" /> {/* –°–ø–∏—Å–æ–∫ */}
  <Stack.Screen name="[id]" />  {/* –î–µ—Ç–∞–ª–∏ */}
</Stack>
```

---

## 4. –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

| –ê—Å–ø–µ–∫—Ç            | Stack                 | Tabs                          |
| ----------------- | --------------------- | ----------------------------- |
| **–¢–∏–ø –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è (–≥–ª—É–±–∂–µ) | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ) |
| **–ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥**  | –î–∞                    | –ù–µ—Ç                           |
| **–í–∏–¥–∏–º–æ—Å—Ç—å**     | –û–¥–∏–Ω —ç–∫—Ä–∞–Ω –≤–∏–¥–∏–º      | –í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –≤–∏–¥–Ω—ã             |
| **–°–æ—Å—Ç–æ—è–Ω–∏–µ**     | –ù–∞ —ç–∫—Ä–∞–Ω              | –ù–∞ –≤–∫–ª–∞–¥–∫—É (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)      |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –î–µ—Ç–∞–ª–∏, –ø–æ—Ç–æ–∫–∏        | –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã              |
| **–ê–Ω–∏–º–∞—Ü–∏—è**      | –°–ª–∞–π–¥/fade            | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫          |
| **–ü–∞–º—è—Ç—å**        | –õ–∏–Ω–µ–π–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è      | –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ         |

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π

#### Stack –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚úÖ

```typescript
// –ü–æ–∫–∞–∑ –¥–µ—Ç–∞–ª–µ–π —ç–ª–µ–º–µ–Ω—Ç–∞
router.push(`/message-detail/${messageId}`);

// –ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–∞—è —Ñ–æ—Ä–º–∞
router.push("/step-1");
router.push("/step-2");
router.push("/step-3");

// –ú–æ–¥–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥
router.push("/confirm-delete");

// –í—Ä–µ–º–µ–Ω–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π
router.push("/loading");
```

#### Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚úÖ

```typescript
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è: –°–æ–æ–±—â–µ–Ω–∏—è ‚Üî –£—Å–ª—É–≥–∏ ‚Üî –ü—Ä–æ—Ñ–∏–ª—å

// –ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
// –í–æ–∑–≤—Ä–∞—Ç –≤ "–°–æ–æ–±—â–µ–Ω–∏—è" —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ

// –í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–∞–∂–Ω—ã
// –ù–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π
```

---

## 5. –ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ Kii Mobile

### –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```typescript
// –ö–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å: Auth vs Main
<Stack>
  <Stack.Screen name="(auth)" /> // –õ–æ–≥–∏–Ω/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  <Stack.Screen name="(main)" /> // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
</Stack>

// –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ú–æ–¥–∞–ª–∏ –ø–æ–≤–µ—Ä—Ö –≤–∫–ª–∞–¥–æ–∫
<Stack>
  <Stack.Screen name="(tabs)" /> // –ù–∏–∂–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

  {/* –ú–æ–¥–∞–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è */}
  <Stack.Screen
    name="send-message"
    options={{ presentation: "modal" }}
  />

  {/* –≠–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */}
  <Stack.Screen
    name="lock"
    options={{ presentation: "fullScreenModal" }}
  />
</Stack>

// –ü–∞–Ω–µ–ª—å –≤–∫–ª–∞–¥–æ–∫: –¢—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞
<Tabs>
  {/* –°–æ–æ–±—â–µ–Ω–∏—è */}
  <Tabs.Screen name="messages">
    <Stack>
      <Stack.Screen name="index" /> {/* –°–ø–∏—Å–æ–∫ */}
      <Stack.Screen name="[id]" /> {/* –î–µ—Ç–∞–ª–∏ */}
    </Stack>
  </Tabs.Screen>

  {/* –£—Å–ª—É–≥–∏/–°—Ç–æ–ª–ø—ã */}
  <Tabs.Screen name="services">
    <Stack>
      <Stack.Screen name="index" /> {/* –°–ø–∏—Å–æ–∫ —Å—Ç–æ–ª–ø–æ–≤ */}
      <Stack.Screen name="[id]" /> {/* –î–µ—Ç–∞–ª–∏ —Å—Ç–æ–ª–ø–∞ */}
    </Stack>
  </Tabs.Screen>

  {/* –ü—Ä–æ—Ñ–∏–ª—å */}
  <Tabs.Screen name="profile">
    <Stack>
      <Stack.Screen name="index" /> {/* –û–±–∑–æ—Ä */}
      <Stack.Screen name="edit" /> {/* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è */}
      <Stack.Screen name="settings" /> {/* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã */}
    </Stack>
  </Tabs.Screen>
</Tabs>
```

### –ü—Ä–∏–º–µ—Ä –ø—É—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚Üì
–í–∏–¥–∏—Ç Auth Stack (—ç–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞)
    ‚Üì
–£—Å–ø–µ—à–Ω–æ –ª–æ–≥–∏—Ä—É–µ—Ç
    ‚Üì
–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ Main Stack —Å –≤–∫–ª–∞–¥–∫–∞–º–∏
    ‚Üì
–í–∫–ª–∞–¥–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: –°–æ–æ–±—â–µ–Ω–∏—è | –£—Å–ª—É–≥–∏ | –ü—Ä–æ—Ñ–∏–ª—å
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –≤–∫–ª–∞–¥–∫—É "–°–æ–æ–±—â–µ–Ω–∏—è" (—É–∂–µ –≤—ã–±—Ä–∞–Ω–∞)
    ‚Üì
–í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (Stack: index)
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
    ‚Üì
–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ Stack: –ø–æ–∫–∞–∑–∞–Ω—ã –¥–µ—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
    ‚Üì
–í–æ–∑–≤—Ä–∞—Ç –∫ —Å–ø–∏—Å–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –≤–∫–ª–∞–¥–∫—É "–£—Å–ª—É–≥–∏"
    ‚Üì
–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ —Ç–∞–º, –≥–¥–µ –æ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è
    ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ —É—Å–ª—É–≥—É
    ‚Üì
–ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ Stack: –ø–æ–∫–∞–∑–∞–Ω—ã –¥–µ—Ç–∞–ª–∏ —É—Å–ª—É–≥–∏
```

---

## 6. –†–∞–∑–ª–∏—á–∏—è –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –°–æ—Å—Ç–æ—è–Ω–∏–µ Stack –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```typescript
// –ö–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω –≤ —Å—Ç–µ–∫–µ –∏–º–µ–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
// –í–æ–∑–≤—Ä–∞—Ç –Ω–∞–∑–∞–¥ —É–¥–∞–ª—è–µ—Ç —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

Stack:
  –≠–∫—Ä–∞–Ω A (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { counter: 1 })
  –≠–∫—Ä–∞–Ω B (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { counter: 2 })
  –≠–∫—Ä–∞–Ω C (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { counter: 3 })

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞–∑–∞–¥ –∏–∑ C
    ‚Üì
  –≠–∫—Ä–∞–Ω A (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { counter: 1 })
  –≠–∫—Ä–∞–Ω B (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { counter: 2 })

// –°–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ C –∏—Å—á–µ–∑–ª–æ
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```typescript
// –ö–∞–∂–¥–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –Ω–µ —Ç–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–í–∫–ª–∞–¥–∫–∞ 1 - –°–æ–æ–±—â–µ–Ω–∏—è:
  (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { scrollPosition: 150, filter: "unread" })

–í–∫–ª–∞–¥–∫–∞ 2 - –£—Å–ª—É–≥–∏:
  (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { scrollPosition: 200, selectedPillar: "mental-health" })

–í–∫–ª–∞–¥–∫–∞ 3 - –ü—Ä–æ—Ñ–∏–ª—å:
  (—Å–æ—Å—Ç–æ—è–Ω–∏–µ: { editMode: false, notifications: true })

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è: –í–∫–ª–∞–¥–∫–∞1 ‚Üí –í–∫–ª–∞–¥–∫–∞2 ‚Üí –í–∫–ª–∞–¥–∫–∞1
    ‚Üì
–í–∫–ª–∞–¥–∫–∞ 1 –≤—Å—ë –µ—â—ë –∏–º–µ–µ—Ç: { scrollPosition: 150, filter: "unread" }
// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!
```

---

## 7. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Stack –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `presentation: "modal"` –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤  
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥ –¥–ª—è –ª–∏–Ω–µ–π–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤  
‚úÖ –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª—É–±–∏–Ω—É (–º–∞–∫—Å 3-4 —ç–∫—Ä–∞–Ω–∞ –≤ –≥–ª—É–±–∏–Ω—É)  
‚úÖ –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å `replace()`  
‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –¥–ª—è —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Tabs –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

‚úÖ –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ 3-5 –≤–∫–ª–∞–¥–æ–∫ –º–∞–∫—Å–∏–º—É–º  
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—ë—Ç–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏  
‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º  
‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏  
‚úÖ –ß—ë—Ç–∫–æ –º–∞—Ä–∫–∏—Ä–æ–≤–∞—Ç—å –≤–∫–ª–∞–¥–∫–∏

---

## 8. –û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω 1: Master-Detail —Å –≤–∫–ª–∞–¥–∫–∞–º–∏

```typescript
<Tabs>
  <Tabs.Screen name="list"> {/* –°–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */}
    <Stack>
      <Stack.Screen name="index" /> {/* –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–∏—Å–æ–∫ */}
      <Stack.Screen name="detail/[id]" /> {/* –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ */}
    </Stack>
  </Tabs.Screen>
</Tabs>
```

### –ü–∞—Ç—Ç–µ—Ä–Ω 2: –ú–æ–¥–∞–ª—å –ø–æ–≤–µ—Ä—Ö –≤–∫–ª–∞–¥–æ–∫

```typescript
<Stack>
  <Stack.Screen name="(tabs)" /> {/* –û–±—ã—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */}

  {/* –ú–æ–¥–∞–ª—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –ª—é–±–æ–π –≤–∫–ª–∞–¥–∫–∏ */}
  <Stack.Screen
    name="modal"
    options={{ presentation: "modal" }}
  />
</Stack>
```

### –ü–∞—Ç—Ç–µ—Ä–Ω 3: –í–ª–æ–∂–µ–Ω–Ω—ã–µ Stack –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–æ–∫

```typescript
<Tabs>
  {/* –í–∫–ª–∞–¥–∫–∞ 1: –ò–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ */}
  <Tabs.Screen name="tab1">
    <Stack>
      <Stack.Screen name="screen-a" />
      <Stack.Screen name="screen-b" />
    </Stack>
  </Tabs.Screen>

  {/* –í–∫–ª–∞–¥–∫–∞ 2: –¢–∞–∫–∂–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ */}
  <Tabs.Screen name="tab2">
    <Stack>
      <Stack.Screen name="screen-c" />
      <Stack.Screen name="screen-d" />
    </Stack>
  </Tabs.Screen>
</Tabs>
```

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞

### –í—ã–±–µ—Ä–∏—Ç–µ Stack –∫–æ–≥–¥–∞:

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (—Å–ø–∏—Å–æ–∫ ‚Üí –¥–µ—Ç–∞–ª–∏)
- –°–æ–∑–¥–∞—ë—Ç–µ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏
- –°–æ–∑–¥–∞—ë—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é

### –í—ã–±–µ—Ä–∏—Ç–µ Tabs –∫–æ–≥–¥–∞:

- –û—Ä–≥–∞–Ω–∏–∑—É–µ—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í—Å–µ —Ä–∞–∑–¥–µ–ª—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–∞–∂–Ω—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –±—ã—Å—Ç—Ä–æ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
- –í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –æ–±–∞! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tabs –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ Stack –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤–∫–ª–∞–¥–æ–∫.
